{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ctRestClient","text":""},{"location":"#redirect","title":"Redirect","text":"<p>If you are not redirected automatically, follow this link to the German documentation.</p>"},{"location":"LICENSE/","title":"LICENSE","text":"<p>MIT License</p> <p>Copyright (c) 2024 Matthias Vach</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"manual-de/","title":"ctRestClient - Benutzerhandbuch","text":""},{"location":"manual-de/#uberblick","title":"\u00dcberblick","text":"<p><code>ctRestClient</code> ist ein Kommandozeilen-Tool, das den Export von Gruppen aus ChurchTools als CSV-Dateien erm\u00f6glicht. Dies ist besonders n\u00fctzlich f\u00fcr die Erstellung von Serienbriefen mit Tools wie Microsoft Word oder Adobe InDesign.</p>"},{"location":"manual-de/#hauptfunktionen","title":"Hauptfunktionen","text":"<ul> <li>Export von ChurchTools-Gruppen: Exportiert Mitgliederdaten aus dynamischen Gruppen</li> <li>CSV-Format: Ausgabe in standardisierten CSV-Dateien</li> <li>Sichere Token-Verwaltung: Verwendung von KeePass-Datenbanken f\u00fcr API-Token</li> <li>Multi-Instanz-Unterst\u00fctzung: Gleichzeitiger Export von mehreren ChurchTools-Instanzen</li> <li>Konfigurierbare Datenfelder: Flexible Auswahl der zu exportierenden Felder</li> <li>Plattform\u00fcbergreifend: Verf\u00fcgbar f\u00fcr Windows, macOS und Linux</li> </ul>"},{"location":"manual-de/#voraussetzungen","title":"Voraussetzungen","text":""},{"location":"manual-de/#software-anforderungen","title":"Software-Anforderungen","text":"<ol> <li>KeePassXC: KeePassXC muss installiert sein und das Kommandozeilen-Tool <code>keepassxc-cli</code> muss im System-PATH verf\u00fcgbar sein</li> <li>Windows: <code>keepassxc-cli.exe</code> befindet sich meist unter <code>Program Files/KeePassXC</code></li> <li>macOS: <code>keepassxc-cli</code> befindet sich meist unter <code>/Applications/KeePassXC.app/Contents/MacOS</code></li> <li>Linux: <code>keepassxc-cli</code> befindet sich meist unter <code>/usr/bin</code> oder <code>/usr/local/bin</code></li> </ol> <p>Wichtig: Ohne <code>keepassxc-cli</code> im PATH kann ctRestClient nicht auf die Token-Datenbank zugreifen!</p> <ol> <li>ChurchTools-Zugang: </li> <li>G\u00fcltiger API-Token f\u00fcr jede ChurchTools-Instanz</li> <li>Berechtigung zum Lesen der entsprechenden Gruppen</li> </ol>"},{"location":"manual-de/#hardware-anforderungen","title":"Hardware-Anforderungen","text":"<ul> <li>Minimal: Beliebiges System mit ausreichend Speicher f\u00fcr die zu exportierenden Daten</li> </ul>"},{"location":"manual-de/#installation","title":"Installation","text":""},{"location":"manual-de/#1-executable-herunterladen","title":"1. Executable herunterladen","text":"<p>Laden Sie die Software von GitHub herunter.</p> <p>Das herunterzuladende Archiv tr\u00e4gt den Namen ctRestClient_&lt;version&gt;.tar.gz. In diesem Archiv befinden sich die ausf\u00fchrbaren Binaries f\u00fcr Windows, Linux, und MacOs.</p>"},{"location":"manual-de/#2-keepass-datenbank-einrichten","title":"2. KeePass-Datenbank einrichten","text":"<p>Erstellen Sie eine KeePass-Datenbank (<code>.kdbx</code>-Datei) und speichern Sie Ihre ChurchTools-API-Token:</p> <ol> <li>\u00d6ffnen Sie KeePassXC</li> <li>Erstellen Sie eine neue Datenbank</li> <li>F\u00fcr jede ChurchTools-Instanz erstellen Sie einen Eintrag:</li> <li>Titel: Ein eindeutiger Name (z.B. <code>meineKirche</code>)</li> <li>Passwort: Ihr ChurchTools-API-Token</li> <li>Speichern Sie die Datenbank als <code>churchtools-tokens.kdbx</code> (empfohlener Name)</li> </ol>"},{"location":"manual-de/#3-ordnerstruktur","title":"3. Ordnerstruktur","text":"<p>Erstellen Sie folgende Ordnerstruktur: <pre><code>mein-projekt/\n\u251c\u2500\u2500 ctRestClient-[platform]        # Die Executable\n\u251c\u2500\u2500 config.yml                     # Konfigurationsdatei\n\u251c\u2500\u2500 churchtools-tokens.kdbx        # KeePass-Datenbank\n\u251c\u2500\u2500 data/                          # ggf. Daten f\u00fcr Wertumwandlungen\n\u2514\u2500\u2500 exports/                       # Ausgabeverzeichnis (wird automatisch erstellt)\n</code></pre></p>"},{"location":"manual-de/#konfiguration","title":"Konfiguration","text":""},{"location":"manual-de/#grundlegende-konfiguration","title":"Grundlegende Konfiguration","text":"<p>Die Konfiguration erfolgt \u00fcber eine YAML-Datei. Hier ein Beispiel (<code>config.yml</code>):</p> <pre><code>instances:\n  - hostname: meineKirche.de\n    token_name: meineKirche\n    groups:\n    - name: Konfirmanden\n      fields: [id, firstName, lastName, sexId, street, zip, city]\n    - name: Eltern von Konfirmanden\n      fields: [id, firstName, lastName, sexId, email]\n</code></pre>"},{"location":"manual-de/#konfigurationsparameter","title":"Konfigurationsparameter","text":""},{"location":"manual-de/#instanzen-instances","title":"Instanzen (<code>instances</code>)","text":"<ul> <li>hostname: Die Dom\u00e4ne Ihrer ChurchTools-Instanz (ohne https://)</li> <li>token_name: Name des Token-Eintrags in der KeePass-Datenbank</li> <li>groups: Liste der zu exportierenden Gruppen</li> </ul>"},{"location":"manual-de/#gruppen-groups","title":"Gruppen (<code>groups</code>)","text":"<ul> <li>name: Exakter Name der Gruppe in ChurchTools</li> <li>fields: Liste der zu exportierenden Datenfelder</li> </ul>"},{"location":"manual-de/#erweiterte-feldkonfiguration","title":"Erweiterte Feldkonfiguration","text":""},{"location":"manual-de/#wertumwandlung-mit-benutzerdefinierten-spaltennamen","title":"Wertumwandlung mit benutzerdefinierten Spaltennamen","text":"<p><code>ctRestClient</code> unterst\u00fctzt die automatische Umwandlung von ChurchTools-Werten in benutzerfreundlichere Ausgaben. Gleichzeitig k\u00f6nnen Sie dabei auch die Spaltennamen in der CSV-Ausgabe anpassen.</p> <p>Funktionsweise:</p> <ul> <li>Werte werden aus YAML-Dateien im <code>data/mappings</code>-Verzeichnis gelesen</li> <li>Der Pfad folgt dem Schema: <code>data/mappings/&lt;modul&gt;/&lt;feldname&gt;.yml</code></li> <li>F\u00fcr das Feld <code>sexId</code> im Modul <code>persons</code>: <code>data/mappings/persons/sexId.yml</code></li> <li>Spaltennamen k\u00f6nnen mit <code>columnname</code> angepasst werden</li> </ul> <p>Beispiel f\u00fcr die Umwandlung der sexId-Werte:</p> <p>Erstellen Sie die Datei <code>data/persons/sexId.yml</code>: <pre><code>1: m\u00e4nnlich\n2: weiblich\n3: divers\n</code></pre></p> <p>Konfiguration: <pre><code>fields: \n  - id\n  - firstName\n  - lastName\n  - {fieldname: sexId, columnname: \"geschlecht\"}\n  - birthday\n</code></pre></p>"},{"location":"manual-de/#blocklisten","title":"Blocklisten","text":"<p>Blocklisten erm\u00f6glichen es, Mitglieder bestimmter ChurchTools-Gruppen vor dem Export aus den erzeugten CSV-Dateien auszuschlie\u00dfen. Dies ist insbesondere hilfreich, um spezielle Adressgruppen wie Studentenwohnheime, Sammelunterk\u00fcnfte oder Justizvollzugsanstalten gesondert zu behandeln.</p> <p>Funktionsweise:</p> <ul> <li>Blocklisten werden aus YAML-Dateien im Verzeichnis <code>data/blocklists</code> geladen.</li> <li>Der Dateiname einer Blockliste muss dem Namen der erzeugten CSV-Datei entsprechen und die Endung .yml besitzen.</li> <li>Jede Blockliste enth\u00e4lt eine Liste von Adressdefinitionen.</li> <li>Innerhalb eines Listeneintrags werden alle angegebenen Felder logisch UND-verkn\u00fcpft. Eine Adresse wird nur dann blockiert, wenn alle Felder eines Blocklistenelements mit der Adresse \u00fcbereinstimmen.</li> </ul> <p>Beispiel: Zwei Adressen sollen nicht in das CSV der Gruppe \"Zuzug_2025\" exportiert werden.</p> <p>Erstellen Sie die Datei <code>data/blocklists/Zuzug_2025.yml</code>: <pre><code>- zip: \"12345\"\n  city: \"Gl\u00fccksstadt\"\n  street: \"Hauptstra\u00dfe 1\"\n- zip: \"12345\"\n  city: \"Gl\u00fccksstadt\"\n  street: \"Hauptstra\u00dfe 1\"\n</code></pre></p> <p>Beispiel: Alle Adressen einer bestimmten Stadt sollen nicht in das CSV der Gruppe Gemeindepost exportiert werden.</p> <p>Erstellen Sie die Datei <code>data/blocklists/Gemeindepost.yml</code>: <pre><code>- zip: \"12345\"\n  city: \"Autschdorf\"\n</code></pre></p> <p>In diesem Fall werden alle Personen ausgeschlossen, deren Adresse die Postleitzahl 12345 und den Ort Autschdorf enth\u00e4lt \u2013 unabh\u00e4ngig von Stra\u00dfe oder Hausnummer.</p>"},{"location":"manual-de/#beispielkonfigurationen","title":"Beispielkonfigurationen","text":""},{"location":"manual-de/#geburtstagslisten","title":"Geburtstagslisten","text":"<pre><code>instances:\n  - hostname: meineKirche.de\n    token_name: meineKirche\n    groups:\n    - name: Konfirmanden\n      fields: [id, firstName, lastName, sexId, street, zip, city]\n    - name: Eltern von Konfirmanden\n      fields: [id, firstName, lastName, sexId, email]\n</code></pre>"},{"location":"manual-de/#multi-instanz-setup","title":"Multi-Instanz-Setup","text":"<pre><code>instances:\n  - hostname: kumulus.meineKirche.de\n    token_name: kumulus\n    groups:\n    - name: Kindergottesdienst\n      fields: [id, firstName, lastName]\n  - hostname: stratus.meineKirche.de\n    token_name: stratus\n    groups:\n    - name: Jugendgruppe\n      fields: [id, firstName, lastName, email]\n</code></pre>"},{"location":"manual-de/#verwendung","title":"Verwendung","text":""},{"location":"manual-de/#kommandozeilen-parameter","title":"Kommandozeilen-Parameter","text":"<pre><code>ctRestClient [OPTIONS]\n</code></pre>"},{"location":"manual-de/#verfugbare-optionen","title":"Verf\u00fcgbare Optionen:","text":"<ul> <li><code>-c &lt;pfad&gt;</code>: Pfad zur Konfigurationsdatei</li> <li>Standard: <code>config.yml</code> im Verzeichnis der Executable</li> <li><code>-k &lt;pfad&gt;</code>: Pfad zur KeePass-Datenbank</li> <li>Standard: <code>passwords.kdbx</code> im Verzeichnis der Executable</li> <li><code>-o &lt;pfad&gt;</code>: Ausgabeverzeichnis f\u00fcr CSV-Dateien</li> <li>Standard: <code>exports/</code> im Verzeichnis der Executable</li> <li><code>-d &lt;pfad&gt;</code>: Pfad zum Datenverzeichnis f\u00fcr Wertumwandlungen</li> <li>Standard: <code>data/</code> im Verzeichnis der Executable</li> </ul>"},{"location":"manual-de/#grundlegende-ausfuhrung","title":"Grundlegende Ausf\u00fchrung","text":""},{"location":"manual-de/#windows","title":"Windows","text":"<pre><code>ctRestClient-windows-amd64.exe\n</code></pre>"},{"location":"manual-de/#macos","title":"macOS","text":"<pre><code>./ctRestClient-darwin-arm64  # F\u00fcr Apple Silicon\n./ctRestClient-darwin-amd64  # F\u00fcr Intel-Macs\n</code></pre>"},{"location":"manual-de/#linux","title":"Linux","text":"<pre><code>./ctRestClient-linux-amd64\n</code></pre>"},{"location":"manual-de/#ausfuhrung-mit-benutzerdefinierten-pfaden","title":"Ausf\u00fchrung mit benutzerdefinierten Pfaden","text":"<pre><code># Mit spezifischer Konfiguration\n./ctRestClient-linux-amd64 -c /pfad/zu/meiner/config.yml\n\n# Mit spezifischer KeePass-Datenbank\n./ctRestClient-linux-amd64 -k /pfad/zu/tokens.kdbx\n\n# Mit spezifischem Ausgabeverzeichnis\n./ctRestClient-linux-amd64 -o /pfad/zu/exports/\n\n# Mit spezifischem Datenverzeichnis\n./ctRestClient-linux-amd64 -d /pfad/zu/data/\n\n# Kombination aller Parameter\n./ctRestClient-linux-amd64 -c config.yml -k tokens.kdbx -o exports/ -d data/\n</code></pre>"},{"location":"manual-de/#automatisierung-mit-skripten","title":"Automatisierung mit Skripten","text":""},{"location":"manual-de/#bash-skript-fur-linuxmacos-exportsh","title":"Bash-Skript f\u00fcr Linux/macOS (<code>export.sh</code>)","text":"<pre><code>#!/usr/bin/env bash\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" &amp;&amp; pwd)\"\n\n# Plattform erkennen\nOS=$(uname -s)\nARCH=$(uname -m)\n\ncase \"$OS\" in\n    \"Darwin\")\n        export PATH=$PATH:/Applications/KeePassXC.app/Contents/MacOS\n        case \"$ARCH\" in\n            \"arm64\")\n                EXECUTABLE=\"$SCRIPT_DIR/ctRestClient-darwin-arm64\"\n                ;;\n            \"x86_64\")\n                EXECUTABLE=\"$SCRIPT_DIR/ctRestClient-darwin-amd64\"\n                ;;\n        esac\n        ;;\n    \"Linux\")\n        export PATH=$PATH:/usr/bin:/usr/local/bin\n        EXECUTABLE=\"$SCRIPT_DIR/ctRestClient-linux-amd64\"\n        ;;\nesac\n\n# Ausf\u00fchrung\nchmod +x \"$EXECUTABLE\"\n\"$EXECUTABLE\" -k \"$HOME/churchtools-tokens.kdbx\" -c \"$SCRIPT_DIR/config.yml\"\n</code></pre>"},{"location":"manual-de/#batch-skript-fur-windows-exportbat","title":"Batch-Skript f\u00fcr Windows (<code>export.bat</code>)","text":"<pre><code>@echo off\nset SCRIPT_DIR=%~dp0\nset EXECUTABLE=%SCRIPT_DIR%ctRestClient-windows-amd64.exe\n\n\"%EXECUTABLE%\" -k \"%USERPROFILE%\\churchtools-tokens.kdbx\" -c \"%SCRIPT_DIR%config.yml\"\npause\n</code></pre>"},{"location":"manual-de/#ausgabe","title":"Ausgabe","text":""},{"location":"manual-de/#dateistruktur","title":"Dateistruktur","text":"<p>Der Export erstellt folgende Struktur:</p> <pre><code>exports/\n\u2514\u2500\u2500 [DATUM]_[ZEIT]/\n    \u251c\u2500\u2500 ctRestClient.log\n    \u2514\u2500\u2500 [HOSTNAME]/\n        \u251c\u2500\u2500 [Gruppenname_1].csv\n        \u251c\u2500\u2500 [Gruppenname_2].csv\n        \u2514\u2500\u2500 ...\n</code></pre> <p>Beispiel: <pre><code>exports/\n\u2514\u2500\u2500 2025.08.06_14-30-15/\n    \u251c\u2500\u2500 ctRestClient.log\n    \u2514\u2500\u2500 ihre-kirche.krz.tools/\n        \u251c\u2500\u2500 Konfirmanden.csv\n        \u2514\u2500\u2500 Eltern_von_Konfirmanden.csv\n</code></pre></p>"},{"location":"manual-de/#csv-format","title":"CSV-Format","text":"<p>Die CSV-Dateien verwenden: - Trennzeichen: Semikolon (<code>;</code>) - Kodierung: UTF-16 Little Endian mit BOM - Erste Zeile: Spalten\u00fcberschriften</p> <p>Beispiel-Inhalt: <pre><code>id;firstName;lastName;street;zip;city\n123;Max;Mustermann;Musterstra\u00dfe 1;12345;Musterstadt\n124;Maria;Musterfrau;Beispielweg 2;54321;Beispielort\n</code></pre></p>"},{"location":"manual-de/#logging","title":"Logging","text":"<p>Detaillierte Informationen \u00fcber die Ausf\u00fchrung finden Sie in der <code>ctRestClient.log</code>-Datei im Ausgabeverzeichnis. Diese enth\u00e4lt: - Zeitstempel aller Aktionen - Erfolgreiche Exports - Fehlermeldungen mit Details - Performance-Informationen</p>"},{"location":"manual-de/#best-practices","title":"Best Practices","text":""},{"location":"manual-de/#sicherheit","title":"Sicherheit","text":"<ol> <li>KeePass-Datenbank sch\u00fctzen: Verwenden Sie ein starkes Master-Passwort</li> <li>API-Token rotieren: Erneuern Sie regelm\u00e4\u00dfig Ihre ChurchTools-Token</li> <li>KeePassXC aktuell halten: Installieren Sie regelm\u00e4\u00dfig Updates f\u00fcr KeePassXC, um Sicherheitsl\u00fccken zu schlie\u00dfen</li> <li>Dateiberechtigungen: Beschr\u00e4nken Sie den Zugriff auf Konfigurationsdateien</li> <li>Sichere \u00dcbertragung: Stellen Sie sicher, dass ChurchTools \u00fcber HTTPS erreichbar ist</li> </ol>"},{"location":"manual-de/#performance","title":"Performance","text":"<ol> <li>Feldauswahl optimieren: Exportieren Sie nur ben\u00f6tigte Felder</li> <li>Gruppengr\u00f6\u00dfe beachten: Bei sehr gro\u00dfen Gruppen kann der Export l\u00e4nger dauern</li> <li>Netzwerkverbindung: Verwenden Sie eine stabile Internetverbindung</li> </ol>"},{"location":"manual-de/#organisation","title":"Organisation","text":"<ol> <li>Sinnvolle Dateinamen: Verwenden Sie aussagekr\u00e4ftige Konfigurationsdateinamen</li> <li>Konfigurations-Backups: Erstellen Sie regelm\u00e4\u00dfig Backups Ihrer Konfigurationsdateien</li> <li>Dokumentation: Dokumentieren Sie spezielle Konfigurationen f\u00fcr Ihr Team</li> <li>Automatisierung: Nutzen Sie Skripte f\u00fcr wiederkehrende Exporte</li> </ol>"},{"location":"manual-de/#lizenz","title":"Lizenz","text":"<p>Dieses Projekt steht unter der MIT-Lizenz. Siehe LICENSE-Datei f\u00fcr Details.</p>"},{"location":"manual-en/","title":"ctRestClient - User Manual","text":""},{"location":"manual-en/#overview","title":"Overview","text":"<p><code>ctRestClient</code> is a command-line tool that enables the export of groups from ChurchTools as CSV files. This is particularly useful for creating mail merge documents with tools like Microsoft Word or Adobe InDesign.</p>"},{"location":"manual-en/#key-features","title":"Key Features","text":"<ul> <li>Export ChurchTools Groups: Exports member data from dynamic groups</li> <li>CSV Format: Output in standardized CSV files</li> <li>Secure Token Management: Uses KeePass databases for API tokens</li> <li>Multi-Instance Support: Simultaneous export from multiple ChurchTools instances</li> <li>Configurable Data Fields: Flexible selection of fields to export</li> <li>Cross-Platform: Available for Windows, macOS, and Linux</li> </ul>"},{"location":"manual-en/#prerequisites","title":"Prerequisites","text":""},{"location":"manual-en/#software-requirements","title":"Software Requirements","text":"<ol> <li>KeePassXC: KeePassXC must be installed and the command-line tool <code>keepassxc-cli</code> must be available in the system PATH</li> <li>Windows: <code>keepassxc-cli.exe</code> is usually located under <code>Program Files/KeePassXC</code></li> <li>macOS: <code>keepassxc-cli</code> is usually located under <code>/Applications/KeePassXC.app/Contents/MacOS</code></li> <li>Linux: <code>keepassxc-cli</code> is usually located under <code>/usr/bin</code> or <code>/usr/local/bin</code></li> </ol> <p>Important: Without <code>keepassxc-cli</code> in PATH, ctRestClient cannot access the token database!</p> <ol> <li>ChurchTools Access: </li> <li>Valid API token for each ChurchTools instance</li> <li>Permission to read the relevant groups</li> </ol>"},{"location":"manual-en/#hardware-requirements","title":"Hardware Requirements","text":"<ul> <li>Minimal: Any system with sufficient memory for the data to be exported</li> </ul>"},{"location":"manual-en/#installation","title":"Installation","text":""},{"location":"manual-en/#1-download-executable","title":"1. Download Executable","text":"<p>Download the software from GitHub.</p> <p>The archive to download is named ( ctRestClient_&lt;version&gt;.tar.gz ). This archive contains the executable binaries for Windows, Linux, and macOS.</p>"},{"location":"manual-en/#2-set-up-keepass-database","title":"2. Set Up KeePass Database","text":"<p>Create a KeePass database (<code>.kdbx</code> file) and store your ChurchTools API tokens:</p> <ol> <li>Open KeePassXC</li> <li>Create a new database</li> <li>For each ChurchTools instance, create an entry:</li> <li>Title: A unique name (e.g., <code>myChurch</code>)</li> <li>Password: Your ChurchTools API token</li> <li>Save the database as <code>churchtools-tokens.kdbx</code> (recommended name)</li> </ol>"},{"location":"manual-en/#3-folder-structure","title":"3. Folder Structure","text":"<p>Create the following folder structure: <pre><code>my-project/\n\u251c\u2500\u2500 ctRestClient-[platform]        # The executable\n\u251c\u2500\u2500 config.yml                     # Configuration file\n\u251c\u2500\u2500 churchtools-tokens.kdbx        # KeePass database\n\u251c\u2500\u2500 data/                          # Optional data for value transformations\n\u2514\u2500\u2500 exports/                       # Output directory (created automatically)\n</code></pre></p>"},{"location":"manual-en/#configuration","title":"Configuration","text":""},{"location":"manual-en/#basic-configuration","title":"Basic Configuration","text":"<p>Configuration is done via a YAML file. Here's an example (<code>config.yml</code>):</p> <pre><code>instances:\n  - hostname: myChurch.com\n    token_name: myChurch\n    groups:\n    - name: Confirmation Class\n      fields: [id, firstName, lastName, sexId, street, zip, city]\n    - name: Parents of Confirmation Class\n      fields: [id, firstName, lastName, sexId, email]\n</code></pre>"},{"location":"manual-en/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"manual-en/#instances-instances","title":"Instances (<code>instances</code>)","text":"<ul> <li>hostname: The domain of your ChurchTools instance (without https://)</li> <li>token_name: Name of the token entry in the KeePass database</li> <li>groups: List of groups to export</li> </ul>"},{"location":"manual-en/#groups-groups","title":"Groups (<code>groups</code>)","text":"<ul> <li>name: Exact name of the group in ChurchTools</li> <li>fields: List of data fields to export</li> </ul>"},{"location":"manual-en/#advanced-field-configuration","title":"Advanced Field Configuration","text":""},{"location":"manual-en/#value-transformation-with-custom-column-names","title":"Value Transformation with Custom Column Names","text":"<p><code>ctRestClient</code> supports automatic transformation of ChurchTools values into more user-friendly outputs. At the same time, you can also customize the column names in the CSV output.</p> <p>How it works: - Values are read from YAML files in the <code>data/</code> directory - The path follows the schema: <code>data/&lt;module&gt;/&lt;fieldname&gt;.yml</code> - For the field <code>sexId</code> in the <code>persons</code> module: <code>data/persons/sexId.yml</code> - Column names can be customized with <code>columnname</code></p> <p>Example for transforming sexId values:</p> <p>Create the file <code>data/persons/sexId.yml</code>: <pre><code>1: male\n2: female\n3: diverse\n</code></pre></p> <p>Configuration: <pre><code>fields: \n  - id\n  - firstName\n  - lastName\n  - {fieldname: sexId, columnname: \"gender\"}\n  - birthday\n</code></pre></p>"},{"location":"manual-en/#blocklists","title":"Blocklists","text":"<p>Blocklists allow members of specific ChurchTools groups to be excluded before exporting the generated CSV files. This is especially useful for handling special address groups such as student dormitories, shared housing facilities, or correctional institutions separately.</p> <p>How it works:</p> <ul> <li>Blocklists are loaded from YAML files located in the <code>data/blocklists</code> directory.</li> <li>The filename of a blocklist must match the name of the generated CSV file and must use the .yml extension.</li> <li>Each blocklist contains a list of address definitions.</li> <li>Within a single list entry, all specified fields are combined using a logical AND. An address is only blocked if all fields of a blocklist element match the address.</li> </ul> <p>Example: Two addresses should not be exported to the CSV file of the group \"Zuzug_2025\".</p> <p>Create the file <code>data/blocklists/Zuzug_2025.yml</code>: <pre><code>- zip: \"12345\"\n  city: \"Gl\u00fccksstadt\"\n  street: \"Hauptstra\u00dfe 1\"\n- zip: \"12345\"\n  city: \"Gl\u00fccksstadt\"\n  street: \"Hauptstra\u00dfe 1\"\n</code></pre></p> <p>Example: All addresses from a specific city should not be exported to the CSV file of the group Gemeindepost.</p> <p>Create the file data/blocklists/Gemeindepost.yml: <pre><code>- zip: \"12345\"\n  city: \"Autschdorf\"\n</code></pre></p> <p>In this case, all persons whose address contains the postal code 12345 and the city Autschdorf will be excluded \u2013 regardless of street name or house number.</p>"},{"location":"manual-en/#example-configurations","title":"Example Configurations","text":""},{"location":"manual-en/#birthday-lists","title":"Birthday Lists","text":"<pre><code>instances:\n  - hostname: myChurch.com\n    token_name: myChurch\n    groups:\n    - name: Confirmation Class\n      fields: [id, firstName, lastName, sexId, street, zip, city]\n    - name: Parents of Confirmation Class\n      fields: [id, firstName, lastName, sexId, email]\n</code></pre>"},{"location":"manual-en/#multi-instance-setup","title":"Multi-Instance Setup","text":"<pre><code>instances:\n  - hostname: cumulus.myChurch.com\n    token_name: cumulus\n    groups:\n    - name: Children's Service\n      fields: [id, firstName, lastName]\n  - hostname: stratus.myChurch.com\n    token_name: stratus\n    groups:\n    - name: Youth Group\n      fields: [id, firstName, lastName, email]\n</code></pre>"},{"location":"manual-en/#usage","title":"Usage","text":""},{"location":"manual-en/#command-line-parameters","title":"Command Line Parameters","text":"<pre><code>ctRestClient [OPTIONS]\n</code></pre>"},{"location":"manual-en/#available-options","title":"Available Options:","text":"<ul> <li><code>-c &lt;path&gt;</code>: Path to the configuration file</li> <li>Default: <code>config.yml</code> in the executable directory</li> <li><code>-k &lt;path&gt;</code>: Path to the KeePass database</li> <li>Default: <code>passwords.kdbx</code> in the executable directory</li> <li><code>-o &lt;path&gt;</code>: Output directory for CSV files</li> <li>Default: <code>exports/</code> in the executable directory</li> <li><code>-d &lt;path&gt;</code>: Path to the data directory for value transformations</li> <li>Default: <code>data/</code> in the executable directory</li> </ul>"},{"location":"manual-en/#basic-execution","title":"Basic Execution","text":""},{"location":"manual-en/#windows","title":"Windows","text":"<pre><code>ctRestClient-windows-amd64.exe\n</code></pre>"},{"location":"manual-en/#macos","title":"macOS","text":"<pre><code>./ctRestClient-darwin-arm64  # For Apple Silicon\n./ctRestClient-darwin-amd64  # For Intel Macs\n</code></pre>"},{"location":"manual-en/#linux","title":"Linux","text":"<pre><code>./ctRestClient-linux-amd64\n</code></pre>"},{"location":"manual-en/#execution-with-custom-paths","title":"Execution with Custom Paths","text":"<pre><code># With specific configuration\n./ctRestClient-linux-amd64 -c /path/to/my/config.yml\n\n# With specific KeePass database\n./ctRestClient-linux-amd64 -k /path/to/tokens.kdbx\n\n# With specific output directory\n./ctRestClient-linux-amd64 -o /path/to/exports/\n\n# With specific data directory\n./ctRestClient-linux-amd64 -d /path/to/data/\n\n# Combination of all parameters\n./ctRestClient-linux-amd64 -c config.yml -k tokens.kdbx -o exports/ -d data/\n</code></pre>"},{"location":"manual-en/#automation-with-scripts","title":"Automation with Scripts","text":""},{"location":"manual-en/#bash-script-for-linuxmacos-exportsh","title":"Bash Script for Linux/macOS (<code>export.sh</code>)","text":"<pre><code>#!/usr/bin/env bash\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" &amp;&amp; pwd)\"\n\n# Detect platform\nOS=$(uname -s)\nARCH=$(uname -m)\n\ncase \"$OS\" in\n    \"Darwin\")\n        export PATH=$PATH:/Applications/KeePassXC.app/Contents/MacOS\n        case \"$ARCH\" in\n            \"arm64\")\n                EXECUTABLE=\"$SCRIPT_DIR/ctRestClient-darwin-arm64\"\n                ;;\n            \"x86_64\")\n                EXECUTABLE=\"$SCRIPT_DIR/ctRestClient-darwin-amd64\"\n                ;;\n        esac\n        ;;\n    \"Linux\")\n        export PATH=$PATH:/usr/bin:/usr/local/bin\n        EXECUTABLE=\"$SCRIPT_DIR/ctRestClient-linux-amd64\"\n        ;;\nesac\n\n# Execution\nchmod +x \"$EXECUTABLE\"\n\"$EXECUTABLE\" -k \"$HOME/churchtools-tokens.kdbx\" -c \"$SCRIPT_DIR/config.yml\"\n</code></pre>"},{"location":"manual-en/#batch-script-for-windows-exportbat","title":"Batch Script for Windows (<code>export.bat</code>)","text":"<pre><code>@echo off\nset SCRIPT_DIR=%~dp0\nset EXECUTABLE=%SCRIPT_DIR%ctRestClient-windows-amd64.exe\n\n\"%EXECUTABLE%\" -k \"%USERPROFILE%\\churchtools-tokens.kdbx\" -c \"%SCRIPT_DIR%config.yml\"\npause\n</code></pre>"},{"location":"manual-en/#output","title":"Output","text":""},{"location":"manual-en/#file-structure","title":"File Structure","text":"<p>The export creates the following structure:</p> <pre><code>exports/\n\u2514\u2500\u2500 [DATE]_[TIME]/\n    \u251c\u2500\u2500 ctRestClient.log\n    \u2514\u2500\u2500 [HOSTNAME]/\n        \u251c\u2500\u2500 [GroupName_1].csv\n        \u251c\u2500\u2500 [GroupName_2].csv\n        \u2514\u2500\u2500 ...\n</code></pre> <p>Example: <pre><code>exports/\n\u2514\u2500\u2500 2025.08.06_14-30-15/\n    \u251c\u2500\u2500 ctRestClient.log\n    \u2514\u2500\u2500 your-church.krz.tools/\n        \u251c\u2500\u2500 Confirmation_Class.csv\n        \u2514\u2500\u2500 Parents_of_Confirmation_Class.csv\n</code></pre></p>"},{"location":"manual-en/#csv-format","title":"CSV Format","text":"<p>The CSV files use: - Delimiter: Semicolon (<code>;</code>) - Encoding: UTF-16 Little Endian with BOM - First line: Column headers</p> <p>Example content: <pre><code>id;firstName;lastName;street;zip;city\n123;John;Doe;Main Street 1;12345;Hometown\n124;Jane;Smith;Example Ave 2;54321;Sample City\n</code></pre></p>"},{"location":"manual-en/#logging","title":"Logging","text":"<p>Detailed information about execution can be found in the <code>ctRestClient.log</code> file in the output directory. This contains: - Timestamps of all actions - Successful exports - Error messages with details - Performance information</p>"},{"location":"manual-en/#best-practices","title":"Best Practices","text":""},{"location":"manual-en/#security","title":"Security","text":"<ol> <li>Protect KeePass Database: Use a strong master password</li> <li>Rotate API Tokens: Regularly renew your ChurchTools tokens</li> <li>Keep KeePassXC Updated: Install regular updates for KeePassXC to close security vulnerabilities</li> <li>File Permissions: Restrict access to configuration files</li> <li>Secure Transmission: Ensure ChurchTools is accessible via HTTPS</li> </ol>"},{"location":"manual-en/#performance","title":"Performance","text":"<ol> <li>Optimize Field Selection: Export only required fields</li> <li>Consider Group Size: Very large groups may take longer to export</li> <li>Network Connection: Use a stable internet connection</li> </ol>"},{"location":"manual-en/#organization","title":"Organization","text":"<ol> <li>Meaningful File Names: Use descriptive configuration file names</li> <li>Configuration Backups: Regularly create backups of your configuration files</li> <li>Documentation: Document special configurations for your team</li> <li>Automation: Use scripts for recurring exports</li> </ol>"},{"location":"manual-en/#license","title":"License","text":"<p>This project is licensed under the MIT License. See the LICENSE file for details.</p>"}]}